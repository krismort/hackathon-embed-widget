<link rel="import" href="coinify-buy.html"> <link rel="import" href="coinify-sell.html"> <link rel="import" href="coinify-trade-history.html"> <link rel="import" href="coinify-shared.html"> <link rel="import" href="coinify-api-behaviour.html"> <dom-module id="coinify-trade"> <template> <style include="coinify-shared"></style> <style>.hidden-list-item{display:none!important}.container{max-width:640px;margin:0 auto}</style> <nav class="navbar navbar-default"> <div class="container-fluid"> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#trade-navbar" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="./">Coinify Trade</a> </div> <div class="collapse navbar-collapse" id="trade-navbar"> <ul class="nav navbar-nav"> <li id="buy-page-menu-item" on-tap="_showBuyBitcoinPage"><a href="#">Buy Bitcoin</a></li> <li id="sell-page-menu-item" on-tap="_showSellBitcoinPage"><a href="#">Sell Bitcoin</a></li> <li id="trade-history-page-menu-item" on-tap="_showTradeHistoryPage"><a href="#">Trade History</a></li> </ul> </div> </div> </nav> <iron-pages attr-for-selected="pageId" selected="{{currentPageId}}"> <div pageid="buyBitcoin" class="container"> <coinify-buy access-token="{{accessToken}}" bitcoin-address="{{bitcoinAddress}}" coinify-api-base-url="[[coinifyApiBaseUrl]]" ist-base-url="{{istBaseUrl}}" panel-wrap="false"></coinify-buy> </div> <div pageid="sellBitcoin"> <coinify-sell access-token="{{accessToken}}" coinify-api-base-url="[[coinifyApiBaseUrl]]" panel-wrap="false"></coinify-sell> </div> <div pageid="tradeHistory"> <coinify-trade-history access-token="{{accessToken}}" coinify-api-base-url="[[coinifyApiBaseUrl]]" panel-wrap="false"></coinify-trade-history> </div> </iron-pages> </template> <script>Polymer({is:"coinify-trade",behaviors:[CoinifyApiBehaviour],properties:{currentPageId:{type:String,value:"buyBitcoin"},showPages:{type:String,observer:"_configurePagesToBeDisplayed"},bitcoinAddress:String,istBaseUrl:{type:String,value:"https://verify.isignthis.com"}},ready:function(){var i=Polymer.dom(this.root).querySelector(".nav");$(i).find("li:visible:first").addClass("active"),$(i).find("a").on("click",function(){$(i).find(".active").removeClass("active"),$(this).parent().addClass("active")})},_showBuyBitcoinPage:function(){this.currentPageId="buyBitcoin",this._closeMenu()},_showSellBitcoinPage:function(){this.currentPageId="sellBitcoin",this._closeMenu()},_showTradeHistoryPage:function(){this.currentPageId="tradeHistory",this._closeMenu()},_closeMenu:function(){$(this.$$(".navbar-collapse")).collapse("hide")},_configurePagesToBeDisplayed:function(i){if(i){var e=$.map(i.split(","),$.trim).map(function(i){return i.toLowerCase()});switch($.inArray("buybitcoin",e)===-1&&$(this.$$("#buy-page-menu-item")).addClass("hidden-list-item"),$.inArray("sellbitcoin",e)===-1&&$(this.$$("#sell-page-menu-item")).addClass("hidden-list-item"),$.inArray("tradehistory",e)===-1&&$(this.$$("#trade-history-page-menu-item")).addClass("hidden-list-item"),e[0]){case"buybitcoin":break;case"sellbitcoin":this._showSellBitcoinPage();break;case"tradehistory":this._showTradeHistoryPage()}}}})</script> </dom-module>