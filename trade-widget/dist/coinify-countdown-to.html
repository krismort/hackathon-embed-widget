<link rel="import" href="coinify-shared.html"> <dom-module id="coinify-countdown-to"> <template> <style include="coinify-shared"></style> <div hidden$="{{!countdownTo}}"> {{prefix}}{{timeDisplay}} </div> </template> </dom-module> <script>Polymer({is:"coinify-countdown-to",properties:{countdownTo:{type:Date,observer:"_countdownToChanged",value:!1},prefix:String,minutes:String,seconds:String,timeDisplay:{type:String,computed:"_computeTimeDisplay(minutes, seconds)"},finishedText:String},ready:function(){this.countdownTo&&this.runCountdown()},_countdownToChanged:function(t){t&&this.runCountdown()},runCountdown:function(){var t=new Date,n=new Date(this.countdownTo.getTime()-t.getTime());n.getTime()>0?(this.minutes=("0"+n.getMinutes()).slice(-2),this.seconds=("0"+n.getSeconds()).slice(-2),this.async(this.runCountdown,1e3)):this.countdownTo.getTime()&&(this.minutes="00",this.seconds="00",this.fire("completed",null,{bubbles:!1}))},_computeTimeDisplay:function(t,n){return"00"===t&&"00"===n&&this.finishedText?this.finishedText:t+":"+n}})</script>