<link rel="import" href="coinify-shared.html"> <link rel="import" href="coinify-api-behaviour.html"> <dom-module id="coinify-kyc-review-status"> <template> <style include="coinify-shared"></style> <style></style> <coinify-alert-message id="errorBox" alert-message="[[errorMessage]]"></coinify-alert-message> <template is="dom-if" if="[[_isState(&apos;reviewing&apos;, kycReview)]]"> <h4>Identity Verification In Review</h4> <p> Your request for identity verification has been flagged for manual review. Coinify will send a status update your way within 1 business day. </p> <p>Apologies for the inconvenience and thanks in advance for your patience.</p> </template> <template is="dom-if" if="[[_isState(&apos;pending&apos;, kycReview)]]"> <div class="row"> <div class="col-xs-12 text-center"> <fa-awesome icon="fa:spinner" size="100" pulse=""></fa-awesome> </div> </div> </template> <template is="dom-if" if="[[_isState(&apos;rejected&apos;, kycReview)]]"> <h4>The KYC request is currently being rejected</h4> </template> <template is="dom-if" if="[[_isState(&apos;expired&apos;, kycReview)]]"> <h4>The KYC request is currently being expired</h4> </template> <template is="dom-if" if="[[_isState(&apos;failed&apos;, kycReview)]]"> <h4>The KYC request is currently being failed</h4> </template> <template is="dom-if" if="[[_isState(&apos;completed&apos;, kycReview)]]"> <h4>The KYC request is currently being completed</h4> </template> <template is="dom-if" if="[[_isState(&apos;documentsRequested&apos;, kycReview)]]"> <h4>The KYC request is currently being documentsRequested</h4> </template> <iron-ajax id="getReview" headers="{{ajaxHeaders}}" url="{{coinifyApiBaseUrl}}/kyc/{{kycReview.id}}" last-response="{{kycReview}}" on-error="_handleApiError" handle-as="json"></iron-ajax> </template> <script>Polymer({is:"coinify-kyc-review-status",behaviors:[CoinifyApiBehaviour],properties:{kycReview:{type:Object,observer:"_kycReviewUpdated"}},_kycReviewUpdated:function(){var e=this,t=this.kycReview;return t?"completed"===t.state?void this.fire("completed",null,{bubbles:!1}):void("pending"===t.state&&setTimeout(function(){e.$.getReview.generateRequest()},2e3)):(console.error("Undefined review object"),void setTimeout(function(){e.$.getReview.generateRequest()},5e3))},_isState:function(e,t){return!!t&&t.state===e}})</script> </dom-module>